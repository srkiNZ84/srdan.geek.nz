<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=content-language content="en">
<meta name=color-scheme content="light dark">
<meta http-equiv=content-security-policy content="upgrade-insecure-requests; block-all-mixed-content; default-src 'self'; child-src 'self'; font-src 'self' https://fonts.gstatic.com https://cdn.jsdelivr.net/; form-action 'self'; frame-src 'self' https://disqus.com; img-src 'self' https://www.gravatar.com https://referrer.disqus.com https://c.disquscdn.com https://cdn.viglink.com; object-src 'none'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com/ https://cdn.jsdelivr.net/ https://c.disquscdn.com; script-src 'self' 'unsafe-inline' https://www.google-analytics.com https://srdan-geek-nz.disqus.com https://c.disquscdn.com; prefetch-src 'self' https://c.disquscdn.com https://disqus.com; connect-src 'self' https://www.google-analytics.com https://links.services.disqus.com;">
<meta name=author content="Srđan Đukić">
<meta name=description content="Discussion of the state of container image scanning at the current time">
<meta name=keywords content="blog,developer,personal">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Docker Container image scanning">
<meta name=twitter:description content="Discussion of the state of container image scanning at the current time">
<meta property="og:title" content="Docker Container image scanning">
<meta property="og:description" content="Discussion of the state of container image scanning at the current time">
<meta property="og:type" content="article">
<meta property="og:url" content="https://srdan.geek.nz/posts/wednesday-29th-sept/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-09-29T21:59:32+13:00">
<meta property="article:modified_time" content="2021-09-29T21:59:32+13:00">
<title>
Docker Container image scanning · Home of Srđan Đukić
</title><link rel=canonical href=https://srdan.geek.nz/posts/wednesday-29th-sept/>
<link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin>
<link rel=stylesheet href=/css/coder.min.708686f8ab8176e91d44fcbe488a0fe0333b94f405cf18a52383d67ba22f0ccb.css integrity="sha256-cIaG+KuBdukdRPy+SIoP4DM7lPQFzxilI4PWe6IvDMs=" crossorigin=anonymous media=screen>
<link rel=stylesheet href=/css/coder-dark.min.aa883b9ce35a8ff4a2a5008619005175e842bb18a8a9f9cc2bbcf44dab2d91fa.css integrity="sha256-qog7nONaj/SipQCGGQBRdehCuxioqfnMK7z0Tastkfo=" crossorigin=anonymous media=screen>
<link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32>
<link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16>
<link rel=apple-touch-icon href=/images/apple-touch-icon.png>
<link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png>
<meta name=generator content="Hugo 0.93.0">
</head><body class="preload-transitions colorscheme-auto">
<div class=float-container>
<a id=dark-mode-toggle class=colorscheme-toggle>
<i class="fa fa-adjust fa-fw" aria-hidden=true></i>
</a>
</div><main class=wrapper>
<nav class=navigation>
<section class=container>
<a class=navigation-title href=/>
Home of Srđan Đukić
</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle>
<i class="fa fa-bars fa-fw" aria-hidden=true></i>
</label>
<ul class=navigation-list>
<li class=navigation-item>
<a class=navigation-link href=/about/>About</a>
</li><li class=navigation-item>
<a class=navigation-link href=/posts/>Blog</a>
</li><li class=navigation-item>
<a class=navigation-link href=/projects/>Projects</a>
</li><li class=navigation-item>
<a class=navigation-link href=/contact/>Contact me</a>
</li></ul></section></nav><div class=content>
<section class="container post">
<article>
<header>
<div class=post-title>
<h1 class=title>
<a class=title-link href=https://srdan.geek.nz/posts/wednesday-29th-sept/>
Docker Container image scanning
</a>
</h1></div><div class=post-meta>
<div class=date>
<span class=posted-on>
<i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2021-09-29T21:59:32+13:00>
September 29, 2021
</time>
</span>
<span class=reading-time>
<i class="fa fa-clock-o" aria-hidden=true></i>
2-minute read
</span>
</div><div class=authors>
<i class="fa fa-user" aria-hidden=true></i>
<a href=/authors/sr%C4%91an-%C4%91uki%C4%87/>Srđan Đukić</a></div><div class=tags>
<i class="fa fa-tag" aria-hidden=true></i>
<span class=tag>
<a href=/tags/docker/>docker</a>
</span>
<span class=separator>•</span>
<span class=tag>
<a href=/tags/scanning/>scanning</a>
</span>
<span class=separator>•</span>
<span class=tag>
<a href=/tags/security/>security</a>
</span>
<span class=separator>•</span>
<span class=tag>
<a href=/tags/acr/>acr</a>
</span>
<span class=separator>•</span>
<span class=tag>
<a href=/tags/azure/>azure</a>
</span>
<span class=separator>•</span>
<span class=tag>
<a href=/tags/azure-defender/>azure defender</a>
</span>
<span class=separator>•</span>
<span class=tag>
<a href=/tags/container-registry/>container registry</a>
</span>
<span class=separator>•</span>
<span class=tag>
<a href=/tags/patching/>patching</a>
</span>
<span class=separator>•</span>
<span class=tag>
<a href=/tags/distroless/>distroless</a>
</span>
<span class=separator>•</span>
<span class=tag>
<a href=/tags/clair/>clair</a>
</span>
<span class=separator>•</span>
<span class=tag>
<a href=/tags/trivy/>trivy</a>
</span>
<span class=separator>•</span>
<span class=tag>
<a href=/tags/grype/>grype</a>
</span></div></div></header><div>
<h1 id=docker-container-image-scanning>
Docker Container image scanning
<a class=heading-link href=#docker-container-image-scanning>
<i class="fa fa-link" aria-hidden=true></i>
</a>
</h1><p>Some time ago, I wrote <a href=https://clearpoint.digital/devops/patches-arent-just-for-pirates-%E2%98%A0-vulnerability-scanning-docker-images-with-coreos-clair-and-klar/>an article</a> talking about the state of container scanning as it became clear that container images were going to have to be patched and the process was going to have to be managed just the same as we do for Linux boxes.</p><p>Recently, the question came up again at work after a colleague rightly balked at the integrated Azure Container Registry option (Azure Defender for ACR) <a href=https://azure.microsoft.com/en-gb/pricing/details/azure-defender/>costing ~$0.44NZD every time you want to scan an image</a>. As such, this post is an attempt to summarise the state of container scanning and the avaible options at time of writing, with a focus on open source solutions that are easy to use and integrate into CI.</p><p>(Clair)[https://github.com/quay/clair] is still a good option these days, though it feels like it has been somewhat surpassed by other options in terms of ease of use and integration. Since the last time writing about it, its parent company, CoreOS, has been purchased by RedHat, who seem to be doing a good job of maintaining the project as a part of the (quay.io)[https://quay.io] open source container image registry effort.</p><p>A slightly easier to use option that seems to have fit the brief in the end is a tool called <a href=https://github.com/aquasecurity/trivy>Trivy</a> from (Aquasecurity)[https://www.aquasec.com/]. This seems to do the job of detecting known vulnerabilities in package versions as well as offering some additional scanning for common misconfigurations and was easy to integrate with Azure DevOps.</p><p>A third option that came up but that we didn&rsquo;t really get a chance to take for a spin was <a href=https://github.com/anchore/grype>Grype</a> from <a href=https://anchore.com/>Anchore</a>. This also looks promising in terms of easy of use (as well as install, configuration and integration with CI) with an added benefit that it claims to also scan language packages (Ruby, Java, JavaScript and Python at the moment).</p><p>In addition to the above, it was also noted that both <a href=https://quay.io/>Quay.io</a> and <a href=https://goharbor.io/>Harbor</a> have security scanning built in (and possibly have a free tier?) and that DockerHub has this in <a href=https://docs.docker.com/docker-hub/vulnerability-scanning/>their paid subscription</a> powered by <a href=https://snyk.io/>Snyk</a>.</p><p>In terms of eliminating the need to patch in the first place, it was recommended to look at migrating to the <a href=https://github.com/GoogleContainerTools/distroless>Distroless</a> base images if possible in the future.</p></div><footer>
<div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//srdan-geek-nz.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script>
<noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a>
</footer></article></section></div></main><script src=/js/coder.min.f453d26c79f010446cf0d9770197f77de32c07b7a5512d141a286247fe154a22.js integrity="sha256-9FPSbHnwEERs8Nl3AZf3feMsB7elUS0UGihiR/4VSiI="></script>
</body></html>